** 3.1.1 운영체제의 역할과 구조

1) 운영체제의 역할
   - CPU 스케줄링과 프로세스 관리
     - CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 자원 할당 및 반환을 관리
   - 메모리 관리
     - 한정된 메모리를 어떤 프로세스에 얼만큼 할당해야 하는지 관리   
   - 디스크 파일 관리
       - 디스크 파일을 어떠한 방법으로 보관할지 관리
   - I/O 디바이스 관리
       - I/O 디바이스들인 마우스, 키보드와 컴퓨터 간에 데이터를 주고 받는 것을 관리
    
2) 운영체제의 구조
   ![image](https://github.com/GDSC-SWU/2023-CS-Study/assets/97941141/cd2fed55-3c7c-49fd-a043-554a67bf0fce)
   * 드라이버: 하드웨어를 제어하기 위한 소프트웨어
  
3) 시스템콜
   - 운영체제가 커널에 접근하기 위한 인터페이스
   - 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출할 때 사용
   - 추상화 계층
     - 네트워크 통신이나 데이터베이스와 같은 낮은 단계의 영역 처리에 대한 부분을 많이 신경 쓰지 않고 프로그램을 구현할 수 있는 장점
   - 모드 비트(유저 모드와 커널 모드)
     - 1(유저) 또는 0(커널)의 값을 가지는 플래그 변수
     - 커널 모드를 거쳐 운영체제를 통해 작동하게 만들기 위한 장치 
     ![image](https://github.com/GDSC-SWU/2023-CS-Study/assets/97941141/fedccf22-f5d5-416b-b867-5165c3599a9c)

   - 시스템 콜을 통해 커널 모드로 변경되는 과정
       1) 유저 프로그램이 I/O 요청(fs.readFile())으로 트랩을 발동
       2) 올바른 I/O 요청인지 확인
       3) 유저 모드가 시스템콜을 통해 커널 모드로 변환되어 실행

    - 시스템 콜의 효과
      -  컴퓨터 자원에 대한 직접 접근을 차단할 수 있음
      - 프로그램을 다른 프로그램으로부터 보호할 수 있음
     
 ** 3.1.2 컴퓨터의 요소
 
 ![image](https://github.com/GDSC-SWU/2023-CS-Study/assets/97941141/aecd0c8a-615e-40b4-93cb-83ffa02dbbab)
 1) CPU
  - 산술논리연산장치, 제어장치, 레지스터로 구성되어 있는 컴퓨터 장치
  - 인터럽트에 의해 단순히 메모리에 존재하는 명령어를 해석해 실행
  - 관리자 역할로, 운영체제의 커널이 프로그램을 메모리에 올려 프로세스로 만들면, CPU가 이를 처리함
  - 산술논리연산장치
    - 덧셈, 뺄셈 같은 두 숫자의 산술 연산을 계산하는 디지털 회로
    - 배타적 논리합, 논리곱과 같은 논리 연산을 계산하는 디지털 회로
  - 재어 장치
    - 프로세스의 조작을 지시하는 CPU의 한 부품
    - 입출력 장치 간 통신을 제어
    - 명령어를 읽고 해석
    - 데이터 처리를 위한 순서 결정
  - 레지스터
    - CPU 내부에 있는 매우 빠른 임시기억장치
    - CPU와 연결되어 있으므로 연산 속도가 메모리보다 수십 배 ~ 수백 배까지 빠름
    - CPU 자체적으로 데이터를 저장할 방법이 없기 때문에 레지스터를 거쳐 데이터를 전달함
  - CPU의 연산 처리
    ![image](https://github.com/GDSC-SWU/2023-CS-Study/assets/97941141/c3866120-c108-4527-b4f0-031f9f5b3cd5)
 3) DMA 컨트롤러
    - I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치
    - CPU에만 너무 많은 인터럽트 요청이 들어오기에 CPU의 부하를 막아줌
    - CPU의 일을 부담하는 보조 일꾼
    - 하나의 작업을 CPU와 DMA 컨트롤러가 동시에 하는 것을 방지함
 4) 메모리
    - 전자회로에서 데이터나 상태, 명령어 등을 기록하는 장치를 의미
    - RAM을 일컬어 메모리라고도 함
    - 메모리가 크면 클수록 많은 일을 동시에 진행 가능
 5) 타이머
    - 몇 초 안에는 작업이 끝나야 한다는 것을 정하고 특정 프로그램에 시간 제한을 다는 역할
    - 시간이 많이 걸리는 프로그램이 작동할 때 제한을 걸기 위해 존재
 6) 디바이스 컨트롤러
    - 컴퓨터와 연결되어 있는 IO 디바이스들의 작은 CPU를 의미
    - 옆에 로컬 버퍼(임시 저장 작은 메모리)가 붙어있어 각 디바이스에서 데이터를 임시로 저장할 수 있음
 7) 인터럽트
    - 어떤 신호가 들어왔을 대 CPU를 잠시 정지시키는 것을 말함
    - 발생 이유
      - I/O 디바이스로 인한 인터럽트
      - 0으로 숫자를 나누는 산술 연산에서의 인터럽트
      - 프로세스 오류
      - ...
    - 종류 
      - 하드웨어 인터럽트
        - 카보드를 연결하거나, 마우스를 연결하는 일 등의 IO 디바이스에서 발생
      - 소프트웨어 인터럽트
        - 트랩이라고도 함
        - 프로세스 오류 등으로 프로세스가 시스템콜을 호출할 때 발생
    - 발생 시 처리
      - 인터럽트 핸들러 함수 
        - 인터럽트가 발생했을 때 이를 핸들링하기 위한 함수
        - 커널 내부의 IRQ를 통해 호출되며 request_irp()를 통해 인터럽트 핸들러 함수를 등록할 수 있음
   
** 3.2.1 메모리 계층
![image](https://github.com/GDSC-SWU/2023-CS-Study/assets/97941141/a709d16a-7f81-47a5-978b-3902a788e735)
1) 레지스터
   - CPU 안에 있는 작은 메모리
   - 휘발성
   - 속도 가장 빠름
   - 기억 용량 가장 적음
2) 캐시
   - L1,L2 캐시를 지칭(L3 캐시도 있음) -> 추후 더 알아보기!
   - 휘발성
   - 속도 빠름
   - 기억 용량이 가장 적음
   - 데이터를 미리 복사해 놓는 임시 저장소
   - 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위한 메모리
     - 실제로 메모리와 CPU 사이의 속도 차이가 너무 크기 대문에 그 중간에 레지스터 계층(캐싱 계층)을 둬서 속도 차이를 해결함
     - 예를 들어 캐시 메모리와 보조기억장치 사이에 있는 주기억장치를 보조기억장치의 캐싱 계층이라고 할 수 있음
   - 지역성의 원리
     - 캐시 계층을 두는 것 말고 캐시를 직접 설정할 때 자주 사용하는 데이터를 불러오는데, 이때 "자주"를 선정하는 근거
     - 시간 지역성
       - 최근에 사용한 데이터에 다시 접근하려는 특성
       - ex for문의 변수 i
     - 공간 지역성
       - 최근에 접근한 데이터를 이루고 있는 공간이나, 그 가까운 공간에 접근하려는 트겅
       - ex 배열에 접근 -> 배열의 요소에 연속적으로 접근
   - 캐시히트와 캐시미스
     - 캐시히트
       - 캐시에 원하는 데이터가 있는 경우
       - 제어장치를 거쳐 가져오게 됨
       - 위치 가깝 + CPU 내부 버스를 기반으로 동작 -> 빠름
     - 캐시미스
       - 캐시에 원하는 데이터가 없는 경우
       - 메모리에서 가져오게됨
       - 시스템 버스를 기반으로 동작 -> 느림
   - 캐시매핑
     - 캐시가 히트되기 위해 매핑하는 방법
     - CPU의 레지스터와 주 메모리 간에 데이터를 주고받을 때를 기반으로 설명
     - 레지스터는 주 메모리에 비하면 굉장이 작고, 주 메모리는 굉장히 크기 때문에 해당 과정이 중요
     - 분류
       - 직접 매핑
         - 집합으로 구분지어 매핑
         - 순서가 중요
         - 충돌 발생 잦음
         - 처리 빠름
       - 연관 매핑
         - 순서 상관 없음
         - 관련 있는 캐시와 메모리를 매핑
         - 충돌이 적음
         - 모든 블록을 탐색해야 하기에 속도가 느림
       - 집합 연관 매핑
         - 직접 + 연관 매핑 방식
         - 순서는 일치시키지만, 집합을 두어 저장
         - 블록화되어 있기에 검색은 효율적
         - 나머지 연관지어 매핑.. -> 더 알아보기
   - 웹 브라우저의 캐시
     - 소프트웨어적인 대표적인 캐시
     - 웹 브라우저의 작은 저장소 쿠키, 로컬 스토리지 세션 스토리지
     - 사용자의 커스텀한 정보나 인증 모듈 관련 사항들을 웹 브라우저에 저장해서 추후 서버에 요청할 대 자신을 나타내는 아이덴티티나 중복 요청 방지를 위해 사용
       1) 쿠키
          - 만료 기한이 있는 키-값 저장소
          - same site 옵션을 strict로 설정하지 않았을 경우, 다른 도메인에서 요청했을 대 자동 전송됨
          - 4KB까지 데이터를 저장할 수 있음
          - 만료 기한을 정할 수 있음
            - 클라이언트 또는 서버에서 만료기한을 정할 수 있음(보통 서버에서 진행)
          - 쿠키 설정 시 주의사항
            - document.cookie로 쿠키를 볼 수 없도록 httponly 옵션을 거는 것이 중요함
       3) 로컬 스토리지
          - 만료 기한이 없는 키-값 저장소
          - 10MB까지 저장할 수 있음
          - 웹 브라우저를 닫아도 유지됨
          - 도메인 단위로 저장, 생성됨
          - HTML5를 지원하지 않는 웹 브라우저에서는 사용할 수 없음
          - 클라이언트에서만 수정이 가능함
       4) 세션 스토리지
          - 만료 기한이 없는 키-값 저장소
          - 탭 단위로 세션 스토리지를 생성
          - 탭을 닫을 때 해당 데이터 삭제
          - 5MB까지 저장 가능
          - HTML5를 지원하지 않는 웹 브라우저에서는 사용할 수 없음
          - 클라이언트에서만 수정이 가능함
   - 데이터 베이스의 캐싱 계층
     - 데이터 베이스 시스템 구축 시, 메인 데이터베이스 위에 레디스 데이터베이스 계층을 캐싱 계층으로 둬서 성능을 향상시키기도 함
     ![image](https://github.com/GDSC-SWU/2023-CS-Study/assets/97941141/3b7801ab-dba3-47bd-8815-fea870442437)

3) 주기억장치
   - RAM을 가리킴
      - 하드디스크로부터 일정량의 데이터를 복사해서 임시 저장
      - 필요 시마다 CPU에게 빠르게 전달
   - 휘발성
   - 속도 보통
   - 기억 용량이 보통
4) 보조저장장치
   - HDD, SSD를 일컬음
   - 비휘발성
   - 속도 낮음
   - 기억 용량이 많음
  













